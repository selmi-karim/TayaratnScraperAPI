{"version":3,"sources":["../../src/internal/fetchFromApi.js"],"names":["axios","BAD_REQUEST","FORBIDDEN","NOT_FOUND","TOO_MANY_REQUESTS","Promise","resolve","get","endpoint","then","res","data","catch","err","response","status","Error","statusText"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,SACEC,WADF,EAEEC,SAFF,EAGEC,SAHF,EAIEC,iBAJF,QAKO,aALP;;AAOA;;;;;;;;;;;;;;AAcA,gBAAe;AAAA,SACbC,QAAQC,OAAR,CAAgBN,MAAMO,GAAN,CAAUC,QAAV,CAAhB,EACGC,IADH,CACQ;AAAA,WAAOC,IAAIC,IAAX;AAAA,GADR,EAEGC,KAFH,CAES,UAACC,GAAD,EAAS;AACd,QAAIA,IAAIC,QAAR,EAAkB;AAChB,cAAQD,IAAIC,QAAJ,CAAaC,MAArB;AACE,aAAKd,YAAYc,MAAjB;AACE,gBAAM,IAAIC,KAAJ,CAAUf,YAAYgB,UAAtB,CAAN;AACF,aAAKf,UAAUa,MAAf;AACE,gBAAM,IAAIC,KAAJ,CAAUd,UAAUe,UAApB,CAAN;AACF,aAAKd,UAAUY,MAAf;AACE,iBAAO,IAAP;AACF,aAAKX,kBAAkBW,MAAvB;AACE,gBAAM,IAAIC,KAAJ,CAAUH,IAAIC,QAAJ,CAAaH,IAAvB,CAAN;AACF;AACE,gBAAM,IAAIK,KAAJ,CAAUH,IAAIC,QAAJ,CAAaG,UAAvB,CAAN;AAVJ;AAYD,KAbD,MAaO;AACL,YAAMJ,GAAN;AACD;AACF,GAnBH,CADa;AAAA,CAAf","file":"fetchFromApi.js","sourcesContent":["import axios from './axiosInstance';\nimport {\n  BAD_REQUEST,\n  FORBIDDEN,\n  NOT_FOUND,\n  TOO_MANY_REQUESTS,\n} from './responses';\n\n/**\n * Fetches data from the supplied API endpoint.\n *\n * HTTP status code 200 returns an Object (data found).\n * HTTP status code 404 returns null (no data found).\n * HTTP status code 400 throws an Error (bad request).\n * HTTP status code 403 throws an Error (forbidden).\n * HTTP status code 429 throws an Error (too many requests).\n *\n * @private\n * @param {string} endpoint the API endpoint to query\n * @returns {Promise} a Promise which resolves to the data resulting from the\n * query (or null for 404 Not Found responses), or rejects with an Error\n */\nexport default endpoint =>\n  Promise.resolve(axios.get(endpoint))\n    .then(res => res.data)\n    .catch((err) => {\n      if (err.response) {\n        switch (err.response.status) {\n          case BAD_REQUEST.status:\n            throw new Error(BAD_REQUEST.statusText);\n          case FORBIDDEN.status:\n            throw new Error(FORBIDDEN.statusText);\n          case NOT_FOUND.status:\n            return null;\n          case TOO_MANY_REQUESTS.status:\n            throw new Error(err.response.data);\n          default:\n            throw new Error(err.response.statusText);\n        }\n      } else {\n        throw err;\n      }\n    });\n"]}